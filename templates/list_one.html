{% extends 'body.html' %}
{% load static %}

{% block head %}
    {% block head_list %}

    {% endblock %}
    <style>
        #data {
            font-size: 13px;
        }

        #data thead th {
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .dataTables_length label,
        .dataTables_filter label,
        .dataTables_info,
        .dataTables_paginate {
            font-size: 12px;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="content">
        <div class="row">
            <div class="col-md-{{ div }}">
                {% if messages %}
                    {% for message in messages %}
                        <div id="message" class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            <button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
                                <i class="now-ui-icons ui-1_simple-remove"></i>
                            </button>
                            <span>{{ message }}</span>
                        </div>
                        <br>                      
                    {% endfor %}
                {% endif %}
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title" style="display: inline-flex">{{ entity }}</h4>
                        {% block create %}

                        {% endblock %}
                    </div>
                    <div class="card-body">
                        <table id="data" class="table table-striped table-bordered"
                               style="border-collapse: separate; border-spacing: 0; width: 100%">
                            <thead>
                            {% block columns %}

                            {% endblock %}
                            </thead>
                            <tfoot>
                            {% block columns_foot %}

                            {% endblock %}
                            </tfoot>
                            <tbody>
                            {% block rows %}

                            {% endblock %}
                            </tbody>
                        </table>
                    </div><!-- end content-->
                </div><!--  end card  -->
            </div> <!-- end col-md-12 -->
        </div> <!-- end row -->
    </div>
{% endblock %}

{% block javascript %}
    <!-- datatable list -->
    <script type="application/javascript">
        $(function () {
            $('#data').DataTable({
                responsive: true,
                autoWidth: false,
                paging: true,
                searching: true,
                language: {
                    url: "//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json"
                },
            });

            $('.btnTest').on('click', function () {
                $.ajax({
                    url: window.location.pathname,
                    type: 'POST',
                    data: {id: 1},
                    dataType: 'json'
                }).done(function (data) {
                    console.log(data);
                }).fail(function (jqXHR, textStatus, errorThrown) {
                    alert(textStatus + ': ' + errorThrown);
                }).always(function (data) {
                });
            });
        });
    </script>
{% endblock %}
